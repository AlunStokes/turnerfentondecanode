$(document).ready(function(){function e(e){return e.match(/\d+/)[0]}function r(e){for(var r=0,n=0;n<e.length;n++)void 0!==e[n]&&r++;return r}var n=[],a=$("#submit-exam-btn");$('input[type="radio"]').change(function(){var s=e(this.id);n[s]=this.value,$("#given-answer-"+s).html(this.value),r(n)==$(".question").length?a.prop("disabled")&&a.prop("disabled",!1):a.prop("disabled")||a.prop("disabled",!0)}),a.on("click",function(){r(n)<$(".question").length?(a.prop("disabled",!0),alert("Answer all questions before submitting")):$.ajax({type:"POST",url:"ajax",data:{ajaxid:"checkExam",givenAnswers:JSON.stringify(n)}}).done(function(e){if(e.err)alert(e.err);else{var r=e.answers,s=0;a.prop("disabled",!0),$("input:radio").attr("disabled","disabled");for(var t=0;t<r.length;t++)n[t]==r[t]?(s++,$("#given-answer-"+t).css("color","#5cb85c")):($("#given-answer-"+t).css("color","#d9534f"),$("#given-answer-"+t).html("<p>Your Answer: </p>"+n[t]+"<br /><p>Correct Answer: </p>"+r[t]));$("#score").html(s+"/"+r.length+" answered correctly"),s/r.length>=.8?$("#score").css("color","#5cb85c"):s/r.length>=.65?$("#score").css("color","#f0ad4e"):$("#score").css("color","#d9534f"),alert("Your exam has been submitted.  You may leave the page."),$("html, body").animate({scrollTop:0},"slow")}})})});