$(document).ready(function(){function e(e){return e.match(/\d+/)[0]}function r(e){for(var r=0,t=0;t<e.length;t++)void 0!==e[t]&&r++;return r}function t(){$.ajax({type:"POST",url:"ajax",data:{ajaxid:"checkExam",givenAnswers:JSON.stringify(n)}}).done(function(e){if(e.err)notify(e.err,"danger","exclamation");else{if(!e.showScore)return notify("Your exam score is not shown for this exam, but it has been submitted and you may leave the page.","success","check"),void $("html, body").animate({scrollTop:0},"slow");var r=e.answers,t=0;s.prop("disabled",!0),$("input:radio").attr("disabled","disabled");for(var o=0;o<r.length;o++)n[o]==r[o]?(t++,$("#given-answer-"+o).css("color","#5cb85c")):($("#given-answer-"+o).css("color","#d9534f"),$("#given-answer-"+o).html("<p>Your Answer: </p>"+n[o]+"<br /><p>Correct Answer: </p>"+r[o]));$("#score").html(t+"/"+r.length+" answered correctly"),t/r.length>=.8?$("#score").css("color","#5cb85c"):t/r.length>=.65?$("#score").css("color","#f0ad4e"):$("#score").css("color","#d9534f"),notify("Your exam has been submitted.  You may leave the page.","success","check"),$("html, body").animate({scrollTop:0},"slow")}})}var n=Array($(".question").length),o=[];n.setAll("");var s=$("#submit-exam-btn");try{$("#timer").startTimer({onComplete:t})}catch(e){}$('input[type="radio"]').change(function(){var t=e(this.id);n[t]=this.value,o[t]=1,$("#given-answer-"+t).html(this.value),r(o)==$(".question").length?s.prop("disabled")&&s.prop("disabled",!1):s.prop("disabled")||s.prop("disabled",!0)}),s.on("click",function(){r(o)<$(".question").length?(s.prop("disabled",!0),notify("Answer all questions before submitting","warning","exclamation")):t()})});